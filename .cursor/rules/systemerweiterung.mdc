Systemerweiterungen – Angebote, Projekte, Mitarbeiter & Filterlogik
1️⃣ Modul: Angebote – Struktur, Layout & Interaktion
A. Angebots-Typen als Auswahl (Dropdown-Tabs)
Ziel:
Unterschiedliche Angebotskategorien nach Branche ermöglichen, um interne Zuordnung und spätere Filterung zu erleichtern.
Funktion:
Beim Klick auf „Neues Angebot erstellen“ erscheint ein Dropdown oder Tab-Auswahl mit den Typen:
Dachdecker
Maler
Bauunternehmen
Nach Auswahl wird der gewählte Typ im Angebotsdatensatz gespeichert (offerType: "Dachdecker")
In der Angebotsliste wird eine zusätzliche Spalte „Typ“ angezeigt, damit gefiltert werden kann.
Farbe oder Icon je nach Typ für schnellere visuelle Erkennung.
Integration:
Filterbar im Angebots- und Projektmodul
Optional für Statistik-Dashboard nutzbar
B. Einheit – Standardisierte Dropdown-Auswahl
Ziel:
Standardisierung der Maßeinheiten, um Rechen- und Layoutfehler zu vermeiden.
Funktion:
In jeder Angebotsposition gibt es ein Dropdown für Einheiten mit folgenden Werten:
St., m, qm, lfdm, stgm, m³
Standardwert: „St.“
Auswahl wird direkt in der Positionszeile gespeichert (unit: "qm")
In der Angebotsvorschau und im PDF wird die Einheit direkt hinter der Menge angezeigt (z. B. „12 qm“).
C. Layoutanpassungen im Angebotsformular
Ziel:
Visuelle Verbesserung und intuitivere Anordnung der Elemente.
Änderungen:
„Gültigkeit“:
Verschoben von oben rechts nach unten links im Angebotsformular.
„Betreff“:
Umbenennen in „Bauvorhaben“
Wird automatisch mit Projektname synchronisiert, falls Angebot aus Projekt erstellt wurde.
„Zahlungsbedingungen“:
Komplett entfernen aus Angebot (da künftig zentral über Rechnungen geregelt).
„Leistungsverzeichnis“:
entfernen, um Formular klarer zu halten (Positionen sind ausreichend).
D. Positionen & Formatierung
Ziel:
Bessere Strukturierung, professionelle Darstellung und einfache Bearbeitung.
Funktionen:
Positionsnummern:
Automatische Nummerierung 01, 02, … danach 10, 11 etc.
System erkennt Blöcke und Gruppen (z. B. 01–09 Hauptleistungen, 10–19 Zusatzarbeiten).
Überschrift der Beschreibung:
Fett dargestellt, um Struktur im Dokument zu schaffen.
Beschreibungstextfeld:
Rich-Text-Editor mit typischen Formatierungen wie in Word:
Fett, Kursiv, <ins>Unterstrichen</ins>,
Textfarbe ändern, Schriftgröße, Aufzählungen
Umsetzung über z. B. React-Quill, Tiptap oder TinyMCE.
Vorschau / PDF-Integration:
In der PDF- und Vorschauansicht werden Formatierungen beibehalten.
Einheit wird neben Menge angezeigt (z. B. „Menge: 5 qm“).
E. Preis- und Summenlogik
Ziel:
Klarere Trennung von Positionssummen und Endpreis.
Anpassung:
In der Beschreibung soll am Ende automatisch die Summe (z. B. „Gesamt: 1.250 €“) erscheinen.
Im PDF steht:
Beschreibung → Summenangabe
In der rechten Spalte E.P. (Einheitspreis) und Gesamtpreis getrennt.
Gesamtsumme unten bleibt unverändert.
F. Angebotsstatus & Übergang zu Projekt
Ziel:
Flexiblere Steuerung des Angebotsstatus und vereinfachter Übergang in Projekte.
Funktionen:
In der Angebotsdetailseite kann der Status manuell geändert werden:
z. B. von „Gesendet“ → „Angenommen“
Nach Statusänderung auf „Angenommen“:
Button „In Projekt umwandeln“ wird aktiv.
Klick erzeugt neues Projekt mit den Angebotsdaten:
Bauvorhaben, Kunde, Positionen, Beträge
Das Angebot wird markiert als:
Status: Angenommen / Projektzugeordnet
Die zugehörige Rechnung wird automatisch als Entwurf erstellt (noch nicht versendet).
Ziel:
Nahtloser Übergang vom Angebot in den operativen Projektprozess.
2️⃣ Modul: Projektverwaltung – Erweiterte Filter, Rechnungslogik & Mitarbeiterzuweisung
A. Filtererweiterungen
Ziel:
Mehr Übersicht und gezielte Suche in umfangreichen Projektlisten.
Funktionen:
Branchenfilter:
Neben der Suchleiste ein Dropdown mit den Kategorien:
Dachdecker
Maler
Bauunternehmen
Filtert alle Projekte, deren Angebot diesen Typ hat.
Datumsfilter:
Optionen:
Woche
Monat
Tag
Benutzerdefiniert (Start- und Enddatum frei wählbar)
Dynamische Aktualisierung der Projekttabelle nach Auswahl.
B. Rechnungserstellung innerhalb des Projekts
Ziel:
Ermöglichen, Rechnungen direkt aus einem Projekt heraus zu erstellen – mit oder ohne Angebot.
Funktionen:
Button „Rechnung erstellen“ in Projektdetailseite verfügbar.
Auswahloptionen:
Rechnung aus Angebot
Nur möglich, wenn Projekt ein angenommenes Angebot enthält.
Automatische Übernahme aller Angebotspositionen.
Auswahl zwischen Teilrechnung und Schlussrechnung.
Speicherung als Entwurf.
Rechnung ohne Angebot
Manuelle Eingabe von Positionen und Beträgen.
Gleiche Struktur, jedoch kein Verweis auf offerId.
Ziel:
Flexibilität bei Nachträgen, Zusatzleistungen oder internen Projekten.
C. Mitarbeiterzuteilung im Projekt
Ziel:
Planung der Einsatzkräfte direkt im Projektkontext.
Funktionen:
Sektion „Mitarbeiter“ in der Projektdetailseite:
Dropdown zur Auswahl mehrerer Mitarbeiter
Anzeige von Name, Qualifikation, Rolle (z. B. Bauleiter, Monteur)
Möglichkeit, Arbeitszeiten oder Einsatzzeitraum direkt einzutragen
Automatische Synchronisierung mit der Zeiterfassung (z. B. Stundenbuchung erscheint in Mitarbeiterprofil)
Mitarbeiter können per Klick aus Projekt entfernt oder ersetzt werden
3️⃣ Modul: Mitarbeiterverwaltung – Resturlaub
A. Resturlaub-Anzeige
Ziel:
Bessere Übersicht über Urlaubsstände zur Planung der Projekte und Einsatzzeiten.
Funktionen:
In der Mitarbeiterliste neue Spalte „Resturlaubstage“
Berechnung:
Gesamturlaubstage pro Jahr – bereits genommene Tage
Automatische Aktualisierung nach jeder Urlaubseintragung
Anzeige farblich markiert:
Grün = ausreichend Resturlaub
Gelb = kritisch (<5 Tage)
Rot = ausgeschöpft
Optional: jährlicher Reset automatisch am 01.01.
4️⃣ Weitere UX- und Systemergänzungen
A. Angebotsvorschau
Einheit (St., m, qm etc.) wird in der Vorschau in derselben Form wie im Formular angezeigt.
Formatierungen aus Rich-Text (Fett, Kursiv, Farbe) werden im PDF übernommen.
B. Angebotsnummerierung
Anpassung, dass Positionen automatisch 01, 02, 03 … 10, 11, 12 … laufen.
Wird automatisch neu sortiert bei Löschung oder Einfügung.
C. Dynamische Statusänderungen
Gesendete Angebote können im Nachhinein bearbeitet und der Status geändert werden.
Statusänderung löst Workflow aus:
z. B. bei Wechsel zu „Angenommen“ → Projekt anlegen.
5️⃣ Technische Hinweise (ohne Code)
Bereich	Technologie / Umsetzung
Frontend	Next.js + React + TailwindCSS + ShadCN UI (Tabs, Dropdowns, Tables)
Backend	Node.js / NestJS mit MongoDB
State Management	Context API oder Zustand für Angebot/Projektstatus
Rich-Text	Tiptap / React-Quill Editor
Filter / Tabellen	TanStack Table
Storage	MinIO für Dokumente
PDF	pdfmake oder Puppeteer
Automatisierung	n8n für Statuswechsel und Projekt-/Rechnungszuweisungen
6️⃣ Erfolgskriterien
Angebotsprozesse sind branchenorientiert und klar strukturiert.
Einheitensystem und Layout sind standardisiert und professionell.
Statusänderungen und Projektübergänge funktionieren automatisch und nachvollziehbar.
Projekte lassen sich nach Zeitraum, Typ und Kunde filtern.
Rechnungen sind direkt aus Projekten erstellbar – mit oder ohne Angebot.
Mitarbeiter haben Resturlaubstracking zur besseren Ressourcenplanung.
Alle Änderungen verbessern die Übersichtlichkeit, Standardisierung und Prozessgeschwindigkeit.